<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>AI Website Maker</title>
<style>
:root{--bg:#f7fafc;--card:#fff;--muted:#6b7280;--accent:#0ea5a4}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;background:var(--bg);color:#0f172a}
.container{max-width:1100px;margin:30px auto;padding:20px;display:grid;grid-template-columns:340px 1fr;gap:20px}
.panel{background:var(--card);border-radius:12px;box-shadow:0 6px 18px rgba(2,6,23,.06);padding:18px}
.header{display:flex;align-items:center;gap:12px;margin-bottom:10px}
.logo{width:45px;height:45px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#2563eb);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700}
.h1{font-size:17px;margin:0}
.hint{font-size:12px;color:var(--muted)}
.field{margin-top:12px;display:flex;flex-direction:column;gap:6px}
.input,.select,.textarea{padding:10px;border:1px solid #e6edf3;border-radius:8px;font-size:14px}
.color{width:48px;height:38px;padding:4px;border-radius:8px;border:1px solid #e6edf3}
.row{display:flex;gap:8px;align-items:center}
.actions{display:flex;gap:8px;align-items:center;margin-top:12px;flex-wrap:wrap}
.button{background:var(--accent);color:#fff;padding:10px 14px;border-radius:10px;border:none;font-weight:600;cursor:pointer}
.button:disabled{opacity:.6;cursor:not-allowed}
.link{background:transparent;border:1px solid #e6edf3;padding:9px 12px;border-radius:10px;cursor:pointer}
.previewTop{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.previewWrap{height:68vh;border-radius:10px;overflow:hidden;border:1px solid #e6edf3;background:#fff}
.placeholder{height:100%;display:flex;align-items:center;justify-content:center;color:var(--muted);text-align:center;padding:20px}
.meta{font-size:13px;color:var(--muted);margin-top:10px}
.footer{grid-column:1/3;text-align:center;margin-top:18px;color:var(--muted);font-size:13px}
.badge{display:inline-flex;align-items:center;padding:6px 8px;border-radius:999px;background:#eef6f5;color:#0b6b65;font-weight:600;font-size:12px}
@media(max-width:880px){.container{grid-template-columns:1fr;padding:12px}.panel{padding:14px}}
</style>
</head>
<body>
<div class="container">
  <div class="panel">
    <div class="header">
      <div class="logo">AI</div>
      <div>
        <div class="h1">AI Website Maker</div>
        <div class="hint">Describe anything. The AI will build a real multi-page website.</div>
      </div>
    </div>
    <form id="form">
      <div class="field">
        <label>Website title</label>
        <input id="title" class="input" placeholder="My AI Website" />
      </div>
      <div class="field">
        <label>Theme color</label>
        <input id="theme" class="color" type="color" value="#0ea5a4" />
      </div>
      <div class="field">
        <label>Font</label>
        <select id="font" class="select">
          <option value="Inter">Inter</option>
          <option value="Roboto">Roboto</option>
          <option value="Poppins">Poppins</option>
          <option value="Georgia">Georgia</option>
        </select>
      </div>
      <div class="field">
        <label>Prompt</label>
        <textarea id="prompt" class="textarea" rows="6" placeholder="Example: Create a multipage ecommerce website with homepage, products, cart, and checkout. Use pastel colors and elegant layout."></textarea>
      </div>
      <div class="actions">
        <button id="generate" class="button" type="submit">Generate</button>
        <button id="example" class="link" type="button">Use Example</button>
        <button id="download" class="link" type="button" disabled>Download HTML</button>
      </div>
      <div class="meta" id="status">Ready</div>
    </form>
  </div>

  <div class="panel">
    <div class="previewTop">
      <div style="display:flex;gap:10px;align-items:center">
        <div class="badge">Live Preview</div>
        <div style="font-size:13px;color:var(--muted)">Sandboxed iframe</div>
      </div>
      <div style="display:flex;gap:8px;align-items:center">
        <div style="font-size:13px;color:var(--muted)">Theme</div>
        <div id="themePreview" style="width:18px;height:18px;border-radius:6px;border:1px solid #e6edf3;background:#0ea5a4"></div>
      </div>
    </div>
    <div class="previewWrap" id="previewWrap">
      <div class="placeholder" id="placeholder">Generated website will appear here after creation.</div>
      <iframe id="preview" style="width:100%;height:100%;border:0;display:none" sandbox="allow-forms allow-same-origin allow-scripts"></iframe>
    </div>
    <div class="meta">Fully generated HTML — editable, downloadable, and sandboxed preview.</div>
  </div>

  <div class="footer">Powered by Groq AI · Replace your API key in code to activate generation.</div>
</div>

<script>
const form=document.getElementById('form');
const promptInput=document.getElementById('prompt');
const titleInput=document.getElementById('title');
const themeInput=document.getElementById('theme');
const fontInput=document.getElementById('font');
const generateBtn=document.getElementById('generate');
const exampleBtn=document.getElementById('example');
const downloadBtn=document.getElementById('download');
const status=document.getElementById('status');
const preview=document.getElementById('preview');
const placeholder=document.getElementById('placeholder');
const themePreview=document.getElementById('themePreview');
let latestHtml='';

exampleBtn.addEventListener('click',()=>{
  promptInput.value=`Create a responsive multipage AI agency website with Home, Services, About, and Contact pages. Each page should have a navbar and footer. Use a teal and black color scheme with smooth animations. Include hero section and contact form.`;
  titleInput.value="AI Agency";
  fontInput.value="Poppins";
  themeInput.value="#0ea5a4";
  themePreview.style.background=themeInput.value;
});

themeInput.addEventListener('input',()=>{themePreview.style.background=themeInput.value});

form.addEventListener('submit',async(e)=>{
  e.preventDefault();
  if(!promptInput.value.trim()){status.textContent='Enter a prompt';return;}
  generateBtn.disabled=true;
  downloadBtn.disabled=true;
  status.textContent='Generating website...';
  const body={prompt:promptInput.value,title:titleInput.value,theme:themeInput.value,font:fontInput.value};

  try{
    const res=await fetch("https://api.groq.com/openai/v1/chat/completions",{
      method:"POST",
      headers:{
        "Content-Type":"application/json",
        "Authorization":"Bearer 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"
      },
      body:JSON.stringify({
        model:"llama-3.1-8b-instant",
        messages:[
          {role:"system",content:"You are an expert web developer. Generate full standalone HTML code with inline CSS and JS according to the prompt. It must be production-ready, responsive, and creative."},
          {role:"user",content:`Title: ${body.title}\nTheme: ${body.theme}\nFont: ${body.font}\nPrompt: ${body.prompt}`}
        ],
        temperature:0.7
      })
    });

    if(!res.ok){throw new Error("Groq API request failed")}
    const data=await res.json();
    const html=data.choices?.[0]?.message?.content?.trim();
    if(!html) throw new Error("No HTML returned");
    latestHtml=html;
    preview.srcdoc=latestHtml;
    preview.style.display='block';
    placeholder.style.display='none';
    downloadBtn.disabled=false;
    status.textContent='Generated successfully';
  }catch(err){
    status.textContent='Error: '+(err.message||err);
    preview.style.display='none';
    placeholder.style.display='flex';
    latestHtml='';
  }finally{
    generateBtn.disabled=false;
  }
});

downloadBtn.addEventListener('click',()=>{
  if(!latestHtml)return;
  const blob=new Blob([latestHtml],{type:'text/html'});
  const url=URL.createObjectURL(blob);
  const a=document.createElement('a');
  a.href=url;
  const safeTitle=(titleInput.value||'website').replace(/[^a-z0-9_-]/gi,'_');
  a.download=safeTitle+'.html';
  document.body.appendChild(a);
  a.click();
  a.remove();
  URL.revokeObjectURL(url);
});
</script>
</body>
</html>
